# Crossplane Functions Configuration
# This Helm chart deploys Crossplane Functions as Kubernetes resources

# functions: List of Crossplane functions to install
# Each function requires:
#   - name: The function name (used for metadata.name and package path)
#   - registry: Container registry hosting the function package
#   - version: Semantic version tag of the function package
functions:
  # Automatically marks compositions as ready when all resources are ready
  - name: function-auto-ready
    registry: ghcr.io/crossplane-contrib
    version: v0.5.1
    critical: true

  # Enables Go templating in Crossplane compositions
  - name: function-go-templating
    registry: ghcr.io/crossplane-contrib
    version: v0.11.0
    critical: true

  # Core function for patching and transforming resources in compositions
  - name: function-patch-and-transform
    registry: ghcr.io/crossplane-contrib
    version: v0.9.1
    critical: true
    
  # Manages environment-specific configurations in compositions
  - name: function-environment-configs
    registry: ghcr.io/crossplane-contrib
    version: v0.4.0
    critical: true
    
  # Enables Composition authors to define sequencing rules delaying the creation of resources until other resources are ready
  - name: function-sequencer
    registry: ghcr.io/crossplane-contrib
    version: v0.3.0

# extraFunctions: Additional functions to install beyond the default set
# Use this array to add custom or experimental functions without modifying
# the main functions list. Follows the same structure as functions above.
# Example:
# extraFunctions:
#   - name: my-custom-function
#     registry: my-registry.com/my-org
#     version: v1.0.0
extraFunctions: []

features:
  # Enable deployment runtime configuration for critical functions
  deploymentRuntimeConfig: true