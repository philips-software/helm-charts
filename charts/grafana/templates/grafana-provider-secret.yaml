{{- if .Values.crossplaneProvider.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: grafana-provider-credentials
  namespace: {{ .Release.Namespace }}
  annotations:
    argocd.argoproj.io/sync-wave: "1"
    argocd.argoproj.io/sync-options: IgnoreExtraneous
type: Opaque
stringData:
  # Placeholders - will be patched by the credentials Job with actual values
  instanceCredentials: '{"auth":"PLACEHOLDER:PLACEHOLDER","url":"{{ include "grafana.url" . }}"}'
  credentials: '{"username":"PLACEHOLDER","password":"PLACEHOLDER"}'
  username: "PLACEHOLDER"
  password: "PLACEHOLDER"
{{- end }}
